{"version":3,"sources":["app.js"],"names":["undoArray","redoArray","updateDataInfo","putDataTabs","putDataColumns","putDataStrings","tabs","document","querySelectorAll","cont","forEach","tab","setAttribute","addTab","section","querySelector","newTab","createElement","classList","add","innerHTML","appendChild","deleteTab","lastChild","remove","saveCommand","fn","revFn","keep","push","action","inverse","length","undo","lastCommand","pop","redo","addEventListener","evt","key"],"mappings":"AAAA,MAAMA,UAAY,GACZC,UAAY,GAuBlB,SAASC,iBACPC,cACAC,iBACAC,iBAGF,SAASF,cACP,MAAMG,EAAOC,SAASC,iBAAiB,SACvC,IAAIC,EAAO,EAEXH,EAAKI,QAASC,IACZA,EAAIC,aAAa,WAAYH,GAC7BA,MAIJ,SAASL,iBACP,MAAME,EAAOC,SAASC,iBAAiB,iBACvC,IAAIC,EAAO,EAEXH,EAAKI,QAASC,IACZA,EAAIC,aAAa,WAAYH,GAC7BA,MAIJ,SAASJ,iBACP,MAAMC,EAAOC,SAASC,iBAAiB,6BACvC,IAAIC,EAAO,EAEXH,EAAKI,QAASC,IACZA,EAAIC,aAAa,cAAeH,GAChCA,IAEY,GAARA,IACFA,EAAO,KAKb,SAASI,SACP,MAAMC,EAAUP,SAASQ,cAAc,kBACjCC,EAAST,SAASU,cAAc,OAEtCD,EAAOE,UAAUC,IAAI,QAErBH,EAAOI,UAAY,+0BA2BnBN,EAAQO,YAAYL,GAGtB,SAASM,YACSf,SAASQ,cAAc,kBACbQ,UAChBC,SAGZ,SAASC,YAAYC,EAAIC,EAAOC,GAAO,GACrC5B,UAAU6B,KAAK,CACbC,OAAQ,CACNJ,GAAAA,GAEFK,QAAS,CACPJ,MAAAA,KAKAC,IACF3B,UAAU+B,OAAS,GAIvB,SAASC,OACP,MAAMC,EAAclC,UAAUmC,MAE9B,GAAID,EAAa,CACf,MAAMR,EAAKQ,EAAYH,QAAQJ,MAC/BD,IAGAzB,UAAU4B,KAAK,CACbC,OAAQ,CACNJ,GAAAA,GAEFK,QAAS,CACPJ,MAAOO,EAAYJ,OAAOJ,OAMlC,SAASU,OACP,MAAMF,EAAcjC,UAAUkC,MAE9B,GAAID,EAAa,CACf,MAAMR,EAAKQ,EAAYH,QAAQJ,MAC/BD,IACAD,YAAYC,EAAIQ,EAAYJ,OAAOJ,IAAI,GACvCxB,kBAlJJK,SAAS8B,iBAAiB,mBAAoB,KAC5ClC,cACAE,iBACAD,iBAEAG,SAAS8B,iBAAiB,UAAYC,IACpC,OAAQA,EAAIC,KACV,IAAK,IACHd,YAAYZ,OAAQS,WACpBT,SACAX,iBACA,MACF,IAAK,IACH+B,OACA,MACF,IAAK,IACHG","file":"app.js","sourcesContent":["const undoArray = [];\r\nconst redoArray = [];\r\ndocument.addEventListener(\"DOMContentLoaded\", () => {\r\n  putDataTabs();\r\n  putDataStrings();\r\n  putDataColumns();\r\n\r\n  document.addEventListener(\"keydown\", (evt) => {\r\n    switch (evt.key) {\r\n      case \"t\":\r\n        saveCommand(addTab, deleteTab);\r\n        addTab();\r\n        updateDataInfo();\r\n        break;\r\n      case \"q\":\r\n        undo();\r\n        break;\r\n      case \"e\":\r\n        redo();\r\n        break;\r\n    }\r\n  });\r\n});\r\n\r\nfunction updateDataInfo() {\r\n  putDataTabs();\r\n  putDataColumns();\r\n  putDataStrings();\r\n}\r\n\r\nfunction putDataTabs() {\r\n  const tabs = document.querySelectorAll(\".tabs\");\r\n  let cont = 1;\r\n\r\n  tabs.forEach((tab) => {\r\n    tab.setAttribute(\"data-tab\", cont);\r\n    cont++;\r\n  });\r\n}\r\n\r\nfunction putDataColumns() {\r\n  const tabs = document.querySelectorAll(\".tabs__column\");\r\n  let cont = 1;\r\n\r\n  tabs.forEach((tab) => {\r\n    tab.setAttribute(\"data-col\", cont);\r\n    cont++;\r\n  });\r\n}\r\n\r\nfunction putDataStrings() {\r\n  const tabs = document.querySelectorAll(\".tabs__column .tabs__cell\");\r\n  let cont = 1;\r\n\r\n  tabs.forEach((tab) => {\r\n    tab.setAttribute(\"data-string\", cont);\r\n    cont++;\r\n\r\n    if (cont == 7) {\r\n      cont = 1;\r\n    }\r\n  });\r\n}\r\n\r\nfunction addTab() {\r\n  const section = document.querySelector(\".content__tabs\");\r\n  const newTab = document.createElement(\"div\");\r\n\r\n  newTab.classList.add(\"tabs\");\r\n\r\n  newTab.innerHTML = `\r\n  <div class=\"tabs__column\">\r\n    <span class=\"tabs__cell\">E</span>\r\n    <span class=\"tabs__cell\">B</span>\r\n    <span class=\"tabs__cell\">G</span>\r\n    <span class=\"tabs__cell\">D</span>\r\n    <span class=\"tabs__cell\">A</span>\r\n    <span class=\"tabs__cell\">E</span>\r\n  </div>\r\n  <div class=\"tabs__column\">\r\n    <span class=\"tabs__cell\">|</span>\r\n    <span class=\"tabs__cell\">|</span>\r\n    <span class=\"tabs__cell\">|</span>\r\n    <span class=\"tabs__cell\">|</span>\r\n    <span class=\"tabs__cell\">|</span>\r\n    <span class=\"tabs__cell\">|</span>\r\n  </div>\r\n  <div class=\"tabs__column\">\r\n    <span class=\"tabs__cell tabs__cell-active\">-</span>\r\n    <span class=\"tabs__cell\">-</span>\r\n    <span class=\"tabs__cell\">-</span>\r\n    <span class=\"tabs__cell\">-</span>\r\n    <span class=\"tabs__cell\">-</span>\r\n    <span class=\"tabs__cell\">-</span>\r\n  </div>\r\n  `;\r\n\r\n  section.appendChild(newTab);\r\n}\r\n\r\nfunction deleteTab() {\r\n  const section = document.querySelector(\".content__tabs\");\r\n  const lastChild = section.lastChild;\r\n  lastChild.remove();\r\n}\r\n\r\nfunction saveCommand(fn, revFn, keep = true) {\r\n  undoArray.push({\r\n    action: {\r\n      fn,\r\n    },\r\n    inverse: {\r\n      revFn,\r\n    },\r\n  });\r\n\r\n  //When something it's added the the redo array is restarted. This because we only need the redo after a undo, not after adding something.\r\n  if (keep) {\r\n    redoArray.length = 0;\r\n  }\r\n}\r\n\r\nfunction undo() {\r\n  const lastCommand = undoArray.pop();\r\n\r\n  if (lastCommand) {\r\n    const fn = lastCommand.inverse.revFn;\r\n    fn();\r\n\r\n    //We add the undo function to the redo array\r\n    redoArray.push({\r\n      action: {\r\n        fn,\r\n      },\r\n      inverse: {\r\n        revFn: lastCommand.action.fn,\r\n      },\r\n    });\r\n  }\r\n}\r\n\r\nfunction redo() {\r\n  const lastCommand = redoArray.pop();\r\n\r\n  if (lastCommand) {\r\n    const fn = lastCommand.inverse.revFn;\r\n    fn();\r\n    saveCommand(fn, lastCommand.action.fn, false); //False to avoid reset the redo\r\n    updateDataInfo();\r\n  }\r\n}\r\n"]}